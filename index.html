<!doctype html>
<html>
  <head>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Starfield</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/starfield.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="wrapper">
      <div id="background"></div>
      <div id="planet"></div>
      <div id="rightAsteroids"></div>
      <div id="frontLeftAsteroids"></div>
      <div id="leftCenterAsteroids"></div>
      <div id="ship"></div>
      <div id="topAsteroidCluster"></div>
      <div id="logo"></div>
    </div>

    <script type="text/javascript">

    $(document).ready(function(){
      var ship = $('#ship'),
          planet = $('#planet'),
          background = $('#background'),
          frontLeftAsteroids = $('#frontLeftAsteroids'),
          leftCenterAsteroids = $('#leftCenterAsteroids'),
          topAsteroidCluster = $('#topAsteroidCluster'),
          rightAsteroids = $('#rightAsteroids'),
          logo = $('#logo'),
          w = $(document).width(),
          h = $(document).height(),
          offset = [0,0];
          maxOffset = [w/2, h/2];


      $(document).on('mousemove', function(e) {
        offset[0] = e.pageX - w/2;
        offset[1] = e.pageY - h/2;

        updateObjects();
      });

      function updateObjects() {
        //right
        ship.css({'margin-left':offset[0]/maxOffset[0]*(w/30), 'margin-top':offset[1]/maxOffset[1]*(h/100)});
        background.css({'margin-left':offset[0]/maxOffset[0]*(-w/450), 'margin-top':offset[1]/maxOffset[1]*(-h/450)});

        //left
        planet.css({'margin-left':offset[0]/maxOffset[0]*(-w/400), 'margin-top':offset[1]/maxOffset[1]*(-h/400)});

        frontLeftAsteroids.css({'margin-left':offset[0]/maxOffset[0]*(w/200), 'margin-bottom':(offset[1]/maxOffset[1]*(-h/800) + offset[0]/maxOffset[0]*(w/100))});

        rightAsteroids.css({'margin-right':offset[0]/maxOffset[0]*(w/80), 'margin-top':(offset[1]/maxOffset[1]*(-h/600) + offset[0]/maxOffset[0]*(w/300))});

        leftCenterAsteroids.css({'margin-left':offset[0]/maxOffset[0]*(-w/20), 'margin-top':offset[1]/maxOffset[1]*(-h/600) + offset[0]/maxOffset[0]*(-w/20)});

        //front front
        topAsteroidCluster.css({'margin-right':offset[0]/maxOffset[0]*(w/20),'margin-top':(offset[1]/maxOffset[1]*(-h/600))});

        logo.css({'margin-left':offset[0]/maxOffset[0]*(w/500),'margin-top':(offset[1]/maxOffset[1]*(-h/600))});


      }
    
    });

    </script>
  </body>
</html>